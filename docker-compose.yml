FROM node:18-alpine

WORKDIR /app

# μ„¤μΉμ© νμΌλ§ λ¨Όμ € λ³µμ‚¬
COPY package*.json ./

# μμ΅΄μ„± μ„¤μΉ
RUN npm ci

# π”¥ ν™κ²½λ³€μ νμΌ λ…μ‹μ μΌλ΅ λ³µμ‚¬
COPY .env.local .env.local

# μ „μ²΄ μ•± λ³µμ‚¬
COPY . .

# μ•± λΉλ“
RUN npm run build

# ν¬νΈ μ„¤μ •
EXPOSE 3000

# μ•± μ‹¤ν–‰
CMD ["npm", "start"]
